<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pc.dao.labor.LaborProjectPersonInfoDao">
	<select id="queryLaborPersonToPushListInTab" parameterType="map"
		resultType="map" statementType="PREPARED">
		SELECT a.ID as id,h.`PROJECT_CODE` AS
		Project_ID,b.`ID_CODE` AS id_code,b.`ID_PHOTO` AS
		id_photo,b.`EMP_NAME` AS emp_name,b.`EMP_PHONE` AS emp_phone,
		b.`EMP_NATIVEPLACE` AS emp_nativeplace,b.`EMP_NATION` AS
		emp_nation,a.`PASS_PERIOD` AS pass_period,a.`MATCH_FLAG` AS
		match_flag,a.`FACEPHOTO` AS facephoto,
		c.`COMPANY_NAME` AS emp_company,g.`NAME` AS work_typename,d.`CODE` AS
		emp_category,a.`CWR_ISKEYPSN` AS cwr_iskeypsn,a.`EMP_DEPT` AS
		emp_dept,f.`CODE` AS job_typename,
		e.`CODE` AS job_name,a.`CONTRACT_STATUS` AS contract_status,b.`ID_AGENCY` AS
		id_agency,b.`ID_VALIDDATE` AS id_validdate,a.`EMP_BANKNAME` AS emp_bankname,
		a.`EMP_CARDNUM` AS emp_cardnum,a.`JOB_DEPT` AS job_dept,b.`IDPHOTO_SCAN` AS
		idphoto_scan,b.`IDPHOTO_SCAN2` AS idphoto_scan2 FROM
		${lppTableName} a,${lpTableName} b,${lcciTableName} c,
		${leciTableName} d,${lgniTableName} e,
		${lgtiTableName} f,${lwtiTableName} g,${lpiTableName} h WHERE
		a.`PERSON_ID`=b.`ID` AND a.`EMP_COMPANT_ID`=c.`ID` AND
		a.`EMP_CATEGORY_ID`=d.`ID`
		AND a.`JOB_NAME_ID`=e.`ID` AND a.`JOB_TYPENAME_ID`=f.`ID` AND
		a.`WORK_TYPENAME_ID`=g.`ID` AND a.`PROJECT_ID`=h.`ID` AND
		a.`IS_SEALED`=0 AND a.`IS_SYNCHRO`=0 AND a.`PROJECT_ID`=#{PROJECT_ID}
	</select>
</mapper>